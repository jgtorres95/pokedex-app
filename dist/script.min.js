let pokemonRepository=function(){let f=[];function a(){return f}function b(a){f.push(a)}function c(a){d(a).then(function(a){e(a)})}function d(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(c){let b={name:a.name};return b.imageUrl=c.sprites.front_default,b.height=c.height,b.types=[],c.types.forEach(function(a){b.types.push(a.type.name)}),b}).catch(function(a){console.error(a)})}function e(a){let b=document.querySelector(".modal-body"),d=document.querySelector(".modal-title");b.innerHTML="",d.innerHTML="";let e=document.createElement("h1");e.innerText=a.name;let c=document.createElement("img");c.setAttribute("class","modal-image"),c.setAttribute("style","width:50%"),c.src=a.imageUrl;let f=document.createElement("p");f.innerText=`Height: ${a.height}`;let g=document.createElement("p");g.innerText=`Type(s): ${a.types}`,d.appendChild(e),b.appendChild(c),b.appendChild(f),b.appendChild(g)}return{getAll:a,add:b,addListItem:function(d){let e=document.querySelector(".pokemon-list"),b=document.createElement("li");b.classList.add("list-group-item");let a=document.createElement("button");a.innerText=d.name,a.classList.add("btn"),a.classList.add("btn-primary"),a.setAttribute("data-target","#pokemonModal"),a.setAttribute("data-toggle","modal"),b.appendChild(a),e.appendChild(b),a.addEventListener("click",function(){c(d)})},showDetails:c,loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){b({name:a.name,detailsUrl:a.url})})}).catch(function(a){console.error(a)})},loadDetails:d,showModal:e,pokemonSearch:function(){let a=document.querySelector("#search-bar").value.toUpperCase();document.querySelectorAll(".btn").forEach(function(b){b.innerText.toUpperCase().indexOf(a)> -1?b.parentElement.style.display="":b.parentElement.style.display="none"})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})